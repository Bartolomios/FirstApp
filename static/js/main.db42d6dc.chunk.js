(this["webpackJsonpsongs-app"]=this["webpackJsonpsongs-app"]||[]).push([[0],{103:function(e,t,n){"use strict";n.r(t);var a=n(0),o=n.n(a),r=n(58),c=n.n(r),s=n(30),l=n.n(s),i=n(55),u=n(20),m=n(35),g=n.n(m),p=n(73),d=n.n(p),_=n(38),f=function(e){var t=e.children,n=e.link;return o.a.createElement("li",{className:d.a.navItem},o.a.createElement(_.c,{exact:!0,activeClassName:d.a.navItemLinkActive,to:n},t))},E=n(36),v=n.n(E),h=function(e){var t=e.toggleHandler,n=e.isToggle;return o.a.createElement("div",{className:n?"".concat(v.a.toggle):"".concat(v.a.toggle," ").concat(v.a.on),onClick:t},o.a.createElement("div",{className:v.a.one}),o.a.createElement("div",{className:v.a.two}),o.a.createElement("div",{className:v.a.three}))},b=function(){var e=Object(a.useState)(!0),t=Object(u.a)(e,2),n=t[0],r=t[1];return o.a.createElement("div",{className:g.a.header},o.a.createElement("div",{className:g.a.headerContainer},o.a.createElement("div",{className:g.a.logo},"Guitar Power"),o.a.createElement("ul",{className:n?"".concat(g.a.navBar):"".concat(g.a.navBar," ").concat(g.a.active)},o.a.createElement(f,{link:"/"},"Progress List"),o.a.createElement(f,{link:"/to-learn"},"Songs to Learn"),o.a.createElement(f,{link:"/learned"},"Learned")),o.a.createElement(h,{toggleHandler:function(){r(!n)},isToggle:n})))},S=(n(97),n(2)),N=Object(a.createContext)(),j=n(81),B=n.n(j),k=n(31),I=n.n(k),O=function(e){var t=e.deleteSong,n=e.id,a=e.name,r=e.description,c=e.link,s=e.progress;return o.a.createElement("li",{className:I.a.songItem},o.a.createElement("h3",{className:I.a.songTitle},a),o.a.createElement("p",{className:I.a.description},r),o.a.createElement("p",null,"Progress: ",s,"%"),o.a.createElement("div",{className:I.a.buttonGroup},o.a.createElement("a",{href:c,target:"_blank",rel:"noopener noreferrer",className:I.a.linkButton},"listen the song"),o.a.createElement(_.b,{className:I.a.orangeLinkButton,to:"/songs/".concat(n)},"Edit")),o.a.createElement("button",{className:I.a.deleteButton,onClick:function(){return t(n)}}))},y=function(e){var t=e.songList,n=e.deleteSong;return o.a.createElement("ul",{className:B.a.songsWrapper},t.map((function(e){return o.a.createElement(O,Object.assign({deleteSong:n,id:e.id,key:e.name},e))})))},x=n(14),w=function(){var e=Object(x.c)((function(e){return e.songs}));return o.a.createElement(N.Consumer,null,(function(t){return o.a.createElement("div",{className:"main"},o.a.createElement("h1",null,"Progress list"),o.a.createElement(y,{deleteSong:t.deleteSong,songList:e.filter((function(e){return e.progress<100&&e.progress>0}))}))}))},A=function(){var e=Object(x.c)((function(e){return e.songs}));return o.a.createElement(N.Consumer,null,(function(t){return o.a.createElement("div",{className:"main"},o.a.createElement("h1",null,"Already learned songs"),o.a.createElement(y,{deleteSong:t.deleteSong,songList:e.filter((function(e){return"100"===e.progress}))}))}))},L=function(){var e=Object(x.c)((function(e){return e.songs}));return o.a.createElement(N.Consumer,null,(function(t){return o.a.createElement("div",{className:"main"},o.a.createElement("h1",null,"Songs planned to learn"),o.a.createElement(y,{deleteSong:t.deleteSong,songList:e.filter((function(e){return e.progress<1}))}))}))},P=n(37),C=n(53),T=n(11),D=n.n(T),F=C.b({songName:C.c().min(3,"Too Short! Minimum 3 characters").max(50,"Too Long!").required("Required"),songAdnotation:C.c().max(300,"Too Long!"),songLink:C.c().min(10,"Minimume 10 characters").max(200,"Too Long!").required("Required"),songProgress:C.a()}),G=function(e){var t=e.addSong,n=e.closeModal,r=Object(a.useState)(0),c=Object(u.a)(r,2),s=c[0],l=c[1],i=function(e){l(e.target.value)};return o.a.createElement("div",{id:"form",className:D.a.formContainer},o.a.createElement(P.c,{initialValues:{songName:"",songAdnotation:"",songLink:"",songProgress:0},validationSchema:F,onSubmit:function(e){console.log(e)}},(function(e){var n=e.errors,a=e.touched;return o.a.createElement(P.b,{onSubmit:t},o.a.createElement(P.a,{className:D.a.input,placeholder:"Song name",name:"songName"}),n.songName&&a.songName?o.a.createElement("div",{className:D.a.errorInfo},n.songName):null,o.a.createElement(P.a,{className:D.a.input,placeholder:"Adnotation",name:"songAdnotation",as:"textarea"}),n.songAdnotation&&a.songAdnotation?o.a.createElement("div",{className:D.a.errorInfo},n.songAdnotation):null,o.a.createElement(P.a,{className:D.a.input,placeholder:"Song link",name:"songLink"}),n.songLink&&a.songLink?o.a.createElement("div",{className:D.a.errorInfo},n.songLink):null,o.a.createElement("label",{className:D.a.progressBar},"Your Progress:",o.a.createElement("div",{className:D.a.rangeDiv},o.a.createElement(P.a,{name:"songProgress",type:"range",onChange:i,value:s}),o.a.createElement("span",{className:D.a.percentageValue},s,"%"))),o.a.createElement("button",{className:D.a.submitButton,type:"submit"},"AddSong"))})),o.a.createElement("button",{className:D.a.closeButton,onClick:n}))},M=n(86),H=n.n(M),R=function(e){var t=e.showModal;return o.a.createElement("button",{onClick:t,className:H.a.addButton})},V=function(e){return{type:"ADD_SONGS",songs:e}},q=n(12),X=n.n(q),J=function(e){var t=Object(a.useState)([]),n=Object(u.a)(t,2),r=n[0],c=n[1],s=Object(a.useState)(),m=Object(u.a)(s,2),g=m[0],p=m[1],d=Object(a.useState)(!1),_=Object(u.a)(d,2),f=_[0],E=_[1],v=Object(a.useRef)(),h=Object(a.useRef)(),b=Object(a.useRef)(),S=Object(x.b)();Object(a.useEffect)((function(){E(!1),N()}),[]);var N=function(){var t=e.match.params.id;fetch("https://my-json-server.typicode.com/Bartolomios/SongProgressApp/songs/".concat(t)).then((function(e){if(e.ok)return e;throw Error(e.status)})).then((function(e){return e.json()})).then((function(e){console.log(e),c(e),j(e)})).catch((function(e){return console.log("b\u0142\u0105d ".concat(e))}))},j=function(e){p(e.progress),v.current.value=e.name,h.current.value=e.description,b.current.value=e.link};return o.a.createElement("div",{className:X.a.container},o.a.createElement("h1",null,"Edit song"),o.a.createElement("form",{className:X.a.updateForm,onSubmit:function(t){t.preventDefault();var n=e.match.params.id,a={name:t.target[0].value,description:t.target[1].value,link:t.target[2].value,progress:t.target[3].value,id:parseInt(n)},o=JSON.stringify(a),c={method:"put",headers:{Accept:"application/json","Content-type":"application/json"},body:o};o!==JSON.stringify(r)?(fetch("https://my-json-server.typicode.com/Bartolomios/SongProgressApp/songs/".concat(n),c).then(function(){var e=Object(i.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=8;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 8:console.log("Succes! Song has been updated"),fetch("https://my-json-server.typicode.com/Bartolomios/SongProgressApp/songs").then((function(e){if(e.ok)return e;throw Error(e.status)})).then((function(e){return e.json()})).then((function(e){return S(V(e))})).catch((function(e){return console.log("b\u0142\u0105d ".concat(e))}));case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("There was an error!",e)})),E(!0)):console.log("There is nothing to update.")}},o.a.createElement("input",{ref:v,className:X.a.input,required:!0,type:"text",placeholder:"Song name"}),o.a.createElement("textarea",{ref:h,className:X.a.input,placeholder:"Adnotation"}),o.a.createElement("input",{ref:b,className:X.a.input,type:"text",placeholder:"Song link"}),o.a.createElement("label",{className:X.a.progressBar},o.a.createElement("p",null,"Your Progress: ",o.a.createElement("span",{className:X.a.percentageValue},g,"%")),o.a.createElement("div",{className:X.a.rangeDiv},o.a.createElement("input",{onChange:function(e){p(e.target.value)},type:"range",min:"0",max:"100",value:g}))),o.a.createElement("div",{className:X.a.buttonGroup},o.a.createElement("button",{type:"submit",className:X.a.blueButton},"Update"),o.a.createElement("button",{onClick:function(){e.history.goBack()},className:X.a.orangeButton},"Back"))),f&&o.a.createElement("h4",{class:X.a.info},"Song has been updated!"))},W=function(){var e=Object(a.useState)(!1),t=Object(u.a)(e,2),n=t[0],r=t[1],c=Object(x.b)(),s=function(){fetch("https://my-json-server.typicode.com/Bartolomios/SongProgressApp/songs").then((function(e){if(e.ok)return e;throw Error(e.status)})).then((function(e){return e.json()})).then((function(e){return c(V(e))})).catch((function(e){return console.log("b\u0142\u0105d ".concat(e))}))};Object(a.useEffect)((function(){s()}),[n]);return o.a.createElement(_.a,{basename:"/SongProgressApp"},o.a.createElement(N.Provider,{value:{deleteSong:function(e){fetch("https://my-json-server.typicode.com/Bartolomios/SongProgressApp/songs/".concat(e),{method:"delete",headers:{Accept:"application/json","Content-type":"application/json"}}).then(function(){var e=Object(i.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=8;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 8:console.log("Succes! Song has been deleted"),s();case 10:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("There was an error!",e)}))}}},o.a.createElement(R,{showModal:function(){r(!0)}}),o.a.createElement(b,null),n&&o.a.createElement(G,{addSong:function(e){e.preventDefault();var t={name:e.target[0].value,description:e.target[1].value,link:e.target[2].value,progress:e.target[3].value};e.target.reset(),r(!1),function(e){var t={method:"post",headers:{Accept:"application/json","Content-type":"application/json"},body:JSON.stringify(e)};fetch("https://my-json-server.typicode.com/Bartolomios/SongProgressApp/songs",t).then(function(){var e=Object(i.a)(l.a.mark((function e(t){var n,a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.json();case 2:if(n=e.sent,t.ok){e.next=8;break}return a=n&&n.message||t.status,e.abrupt("return",Promise.reject(a));case 8:console.log("Succes! Song has been sent");case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){console.error("There was an error!",e)}))}(t)},closeModal:function(){r(!1)}}),o.a.createElement(S.c,null,o.a.createElement(S.a,{exact:!0,path:"/",component:w}),o.a.createElement(S.a,{path:"/to-learn",component:L}),o.a.createElement(S.a,{path:"/learned",component:A}),o.a.createElement(S.a,{exact:!0,path:"/songs/:id",component:J}))))},Y=n(39),U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_SONGS":return t.songs;default:return e}},z=Object(Y.b)({songs:U}),Z=Object(Y.c)(z,window.__REDUX_DEVTOOLS_EXTENSION__&&window.__REDUX_DEVTOOLS_EXTENSION__());c.a.render(o.a.createElement(o.a.StrictMode,null,o.a.createElement(x.a,{store:Z},o.a.createElement(W,null))),document.getElementById("root"))},11:function(e,t,n){e.exports={formContainer:"Form_formContainer__3urdS",submitButton:"Form_submitButton__19gav",input:"Form_input__1FXum",closeButton:"Form_closeButton__2r-iY",progressBar:"Form_progressBar__4amhv",percentageValue:"Form_percentageValue__1Kdqf",rangeDiv:"Form_rangeDiv__1hdgq",errorInfo:"Form_errorInfo__1hEdn"}},12:function(e,t,n){e.exports={progressBar:"SongItemEdit_progressBar__1uoPc",percentageValue:"SongItemEdit_percentageValue__1aAv1",rangeDiv:"SongItemEdit_rangeDiv__dILTV",container:"SongItemEdit_container__32kE6",blueButton:"SongItemEdit_blueButton__2c9OF",orangeButton:"SongItemEdit_orangeButton__1d_qX",input:"SongItemEdit_input__NxN5I",buttonGroup:"SongItemEdit_buttonGroup__FGbPw",info:"SongItemEdit_info__5Uw5D"}},31:function(e,t,n){e.exports={songItem:"SongItem_songItem__IXJDp",description:"SongItem_description__32t5-",linkButton:"SongItem_linkButton__spb4q",orangeLinkButton:"SongItem_orangeLinkButton__21GR1",deleteButton:"SongItem_deleteButton__3yNjW",inputRange:"SongItem_inputRange__3arE-",buttonGroup:"SongItem_buttonGroup__1HzWw",songTitle:"SongItem_songTitle__z4tcv"}},35:function(e,t,n){e.exports={header:"Header_header__1v0yI",headerContainer:"Header_headerContainer__1HSoZ",logo:"Header_logo__3T0lc",navBar:"Header_navBar__obylT",active:"Header_active__3GX0s",addSongButton:"Header_addSongButton__30ipt"}},36:function(e,t,n){e.exports={toggle:"MobileButton_toggle__3DINy",one:"MobileButton_one__2eEIQ",two:"MobileButton_two__3HoeN",three:"MobileButton_three__1bIZ_",on:"MobileButton_on__3x8sT"}},73:function(e,t,n){e.exports={navItem:"NavItem_navItem__3_ejw",navItemLinkActive:"NavItem_navItemLinkActive__25kOr"}},81:function(e,t,n){e.exports={songsWrapper:"SongsList_songsWrapper__e8sz5"}},86:function(e,t,n){e.exports={addButton:"AddButton_addButton__1X3YY"}},87:function(e,t,n){e.exports=n(103)},97:function(e,t,n){}},[[87,1,2]]]);
//# sourceMappingURL=main.db42d6dc.chunk.js.map